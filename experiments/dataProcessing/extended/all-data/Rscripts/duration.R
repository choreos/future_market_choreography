library("ggplot2")

chor_price <-  list(read.table("data/chor/time/001/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/002/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/003/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/004/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/005/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/006/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/007/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/008/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/009/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/010/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/011/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/012/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/013/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/014/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/015/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/016/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/017/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/018/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/019/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/020/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/050/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/100/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/150/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/200/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/250/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/300/lowest_price.log",head=FALSE,sep=" "), read.table("data/chor/time/350/lowest_price.log",head=FALSE,sep=" "))

orch_price <- list(read.table("data/orch/time/001/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/002/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/003/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/004/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/005/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/006/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/007/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/008/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/009/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/010/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/011/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/012/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/013/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/014/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/015/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/016/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/017/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/018/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/019/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/020/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/050/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/100/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/150/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/200/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/250/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/300/lowest_price.log",head=FALSE,sep=" "), read.table("data/orch/time/350/lowest_price.log",head=FALSE,sep=" "))

chor_shipment <-  list(read.table("data/chor/time/001/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/002/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/003/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/004/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/005/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/006/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/007/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/008/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/009/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/010/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/011/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/012/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/013/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/014/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/015/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/016/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/017/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/018/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/019/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/020/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/050/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/100/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/150/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/200/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/250/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/300/shipment.log",head=FALSE,sep=" "), read.table("data/chor/time/350/shipment.log",head=FALSE,sep=" "))

orch_shipment <- list(read.table("data/orch/time/001/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/002/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/003/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/004/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/005/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/006/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/007/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/008/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/009/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/010/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/011/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/012/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/013/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/014/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/015/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/016/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/017/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/018/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/019/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/020/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/050/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/100/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/150/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/200/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/250/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/300/shipment.log",head=FALSE,sep=" "), read.table("data/orch/time/350/shipment.log",head=FALSE,sep=" "))


chor_duration = rep(0, length(chor_price))
orch_duration = rep(0, length(chor_price))
t = length(chor_price)
for (i in 1:t) {
	chor_duration[i] = (chor_shipment[[i]][t,1] + chor_shipment[[i]][t,2] - chor_price[[i]][1,1])/1000
	orch_duration[i] = (orch_shipment[[i]][t,1] + orch_shipment[[i]][t,2]- orch_price[[i]][1,1])/1000
}

database = data.frame(Threads=seq(50, 350, 50),
			duration = chor_duration[21:27],
			duration1 = orch_duration[21:27])

# png("png/xtended_duration.png")
postscript("ps/xtended_duration.ps")
p <- ggplot(database, aes(x=Threads, linetype=composition))
p + geom_line(aes(y=duration, linetype="choreography"))+ geom_line(aes(y=duration1, linetype="orchestration"))  + labs(x = "number of threads", y = "duration(sec.)")	+ opts(title = "Experiments duration")
dev.off()
