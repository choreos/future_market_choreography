library("ggplot2")

chor_registry_data <- list(read.table("data/chor/sar/registry/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/registry/800/cpu_sar.out",head=FALSE,sep=" "))

chor_broker_data <- list(read.table("data/chor/sar/broker/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/broker/800/cpu_sar.out",head=FALSE,sep=" "))

chor_shipper_data <- list(read.table("data/chor/sar/shipper/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/shipper/800/cpu_sar.out",head=FALSE,sep=" "))

chor_sm1_data <- list(read.table("data/chor/sar/sm1/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm1/800/cpu_sar.out",head=FALSE,sep=" "))

chor_sm2_data <- list(read.table("data/chor/sar/sm2/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm2/800/cpu_sar.out",head=FALSE,sep=" "))

chor_sm3_data <- list(read.table("data/chor/sar/sm3/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/chor/sar/sm3/800/cpu_sar.out",head=FALSE,sep=" "))

orch_registry_data <- list(read.table("data/orch/sar/registry/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/registry/800/cpu_sar.out",head=FALSE,sep=" "))

orch_broker_data <- list(read.table("data/orch/sar/broker/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/broker/800/cpu_sar.out",head=FALSE,sep=" "))

orch_shipper_data <- list(read.table("data/orch/sar/shipper/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/shipper/800/cpu_sar.out",head=FALSE,sep=" "))

orch_sm1_data <- list(read.table("data/orch/sar/sm1/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm1/800/cpu_sar.out",head=FALSE,sep=" "))

orch_sm2_data <- list(read.table("data/orch/sar/sm2/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm2/800/cpu_sar.out",head=FALSE,sep=" "))

orch_sm3_data <- list(read.table("data/orch/sar/sm3/050/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/100/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/150/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/200/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/250/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/300/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/350/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/400/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/450/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/500/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/550/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/600/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/650/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/700/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/750/cpu_sar.out",head=FALSE,sep=" "), read.table("data/orch/sar/sm3/800/cpu_sar.out",head=FALSE,sep=" "))

chor_data <- list(chor_registry_data, chor_broker_data, chor_shipper_data, chor_sm1_data, chor_sm2_data, chor_sm3_data)
orch_data <- list(orch_registry_data, orch_broker_data, orch_shipper_data, orch_sm1_data, orch_sm2_data, orch_sm3_data)

name <- c("png/all_sar_cpu_registry.png", "png/all_sar_cpu_broker.png", "png/all_sar_cpu_shipper.png", "png/all_sar_cpu_sm1.png", "png/all_sar_cpu_sm2.png", "png/all_sar_cpu_sm3.png")

for (i in 1:length(chor_data)) {
	chor_table <- chor_data[[i]]
	orch_table <- orch_data[[i]]

banco = data.frame(Threads=c(050,100,150,200,250,300,350,400,450,500,550,600,650,700,750,800),
			 chor_Mean_of_cpu_usage=c(mean(100-chor_table[[1]][3]),mean(100-chor_table[[2]][3]),mean(100-chor_table[[3]][3]),mean(100-chor_table[[4]][3]),mean(100-chor_table[[5]][3]),mean(100-chor_table[[6]][3]),mean(100-chor_table[[7]][3]),mean(100-chor_table[[8]][3]),mean(100-chor_table[[9]][3]),mean(100-chor_table[[10]][3]),mean(100-chor_table[[11]][3]),mean(100-chor_table[[12]][3]),mean(100-chor_table[[13]][3]),mean(100-chor_table[[14]][3]),mean(100-chor_table[[15]][3]),mean(100-chor_table[[16]][3])),
			 orch_Mean_of_cpu_usage=c(mean(100-orch_table[[1]][3]),mean(100-orch_table[[2]][3]),mean(100-orch_table[[3]][3]),mean(100-orch_table[[4]][3]),mean(100-orch_table[[5]][3]),mean(100-orch_table[[6]][3]),mean(100-orch_table[[7]][3]),mean(100-orch_table[[8]][3]),mean(100-orch_table[[9]][3]),mean(100-orch_table[[10]][3]),mean(100-orch_table[[11]][3]),mean(100-orch_table[[12]][3]),mean(100-orch_table[[13]][3]),mean(100-orch_table[[14]][3]),mean(100-orch_table[[15]][3]),mean(100-orch_table[[16]][3])),
			 chor_sigma=c(sd(100-chor_table[[1]][3]),sd(100-chor_table[[2]][3]),sd(100-chor_table[[3]][3]),sd(100-chor_table[[4]][3]),sd(100-chor_table[[5]][3]),sd(100-chor_table[[6]][3]),sd(100-chor_table[[7]][3]),sd(100-chor_table[[8]][3]),sd(100-chor_table[[9]][3]),sd(100-chor_table[[10]][3]),sd(100-chor_table[[11]][3]),sd(100-chor_table[[12]][3]),sd(100-chor_table[[13]][3]),sd(100-chor_table[[14]][3]),sd(100-chor_table[[15]][3]),sd(100-chor_table[[16]][3])),
			 orch_sigma=c(sd(100-orch_table[[1]][3]),sd(100-orch_table[[2]][3]),sd(100-orch_table[[3]][3]),sd(100-orch_table[[4]][3]),sd(100-orch_table[[5]][3]),sd(100-orch_table[[6]][3]),sd(100-orch_table[[7]][3]),sd(100-orch_table[[8]][3]),sd(100-orch_table[[9]][3]),sd(100-orch_table[[10]][3]),sd(100-orch_table[[11]][3]),sd(100-orch_table[[12]][3]),sd(100-orch_table[[13]][3]),sd(100-orch_table[[14]][3]),sd(100-orch_table[[15]][3]),sd(100-orch_table[[16]][3])))

# Mean Variation
	chor_limits = aes(ymax = chor_Mean_of_cpu_usage + chor_sigma, ymin= chor_Mean_of_cpu_usage - chor_sigma, linetype="chor_sd")
	orch_limits = aes(ymax = orch_Mean_of_cpu_usage + orch_sigma, ymin= orch_Mean_of_cpu_usage - orch_sigma, linetype="orch_sd")

# Plot
	png(name[i])

	print(ggplot(banco, aes(x=Threads, linetype="legend")) + geom_line(aes(y=chor_Mean_of_cpu_usage, linetype="chor")) + geom_errorbar(chor_limits, width=50) + geom_line(aes(y=orch_Mean_of_cpu_usage, linetype="orch")) + geom_errorbar(orch_limits, width=50) + scale_y_continuous(limits=c(0,100)))
	dev.off()
}

